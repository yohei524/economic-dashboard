{% extends "base.html" %}

{% block title %}ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ | çµŒæ¸ˆæŒ‡æ¨™ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰{% endblock %}

{% block content %}
<div class="space-y-8">
    <!-- æ¬¡å›NFPã‚«ã‚¦ãƒ³ãƒˆãƒ€ã‚¦ãƒ³ -->
    {% if next_nfp %}
    <div class="bg-gradient-to-r from-trader-blue/20 to-trader-green/20 rounded-lg p-6 border border-trader-border">
        <div class="flex items-center justify-between">
            <div>
                <h2 class="text-lg text-gray-400">æ¬¡å› é›‡ç”¨çµ±è¨ˆ</h2>
                <p class="text-3xl font-bold text-white mt-2">{{ next_nfp.date }}</p>
                <p class="text-gray-400 mt-1">{{ next_nfp.month }} åˆ†</p>
            </div>
            <div class="text-right">
                <p class="text-5xl font-bold text-trader-blue">{{ next_nfp.days_until }}</p>
                <p class="text-gray-400">æ—¥å¾Œ</p>
            </div>
        </div>
        <div class="mt-4">
            <a href="/nfp/{{ next_nfp.month }}" class="inline-block bg-trader-blue hover:bg-blue-600 text-white px-4 py-2 rounded-md text-sm">
                è©³ç´°ã‚’è¦‹ã‚‹ â†’
            </a>
        </div>
    </div>
    {% endif %}

    <!-- ä»Šæœˆãƒ»æ¥æœˆã®ã‚¤ãƒ™ãƒ³ãƒˆ -->
    <div>
        <h2 class="text-xl font-bold text-white mb-4">ğŸ“… ä»Šå¾Œã®ã‚¤ãƒ™ãƒ³ãƒˆ</h2>
        <div class="bg-trader-card rounded-lg border border-trader-border overflow-hidden">
            <table class="w-full">
                <thead class="bg-trader-border/50">
                    <tr>
                        <th class="px-4 py-3 text-left text-sm text-gray-400">æ—¥ä»˜</th>
                        <th class="px-4 py-3 text-left text-sm text-gray-400">ã‚¤ãƒ™ãƒ³ãƒˆ</th>
                        <th class="px-4 py-3 text-left text-sm text-gray-400">è©³ç´°</th>
                        <th class="px-4 py-3 text-left text-sm text-gray-400">é‡è¦åº¦</th>
                    </tr>
                </thead>
                <tbody class="divide-y divide-trader-border">
                    {% for event in events %}
                    <tr class="hover:bg-trader-border/30">
                        <td class="px-4 py-3">
                            <span class="{% if event.date == today %}text-trader-green font-bold{% else %}text-white{% endif %}">
                                {{ event.date }}
                            </span>
                            {% if event.date == today %}
                            <span class="ml-2 text-xs bg-trader-green/20 text-trader-green px-2 py-0.5 rounded">TODAY</span>
                            {% endif %}
                        </td>
                        <td class="px-4 py-3">
                            {% if event.type == 'NFP' %}
                            <span class="inline-flex items-center px-2 py-1 rounded bg-blue-500/20 text-trader-blue text-sm">
                                ğŸ“Š é›‡ç”¨çµ±è¨ˆ
                            </span>
                            {% elif event.type == 'CPI' %}
                            <span class="inline-flex items-center px-2 py-1 rounded bg-yellow-500/20 text-trader-yellow text-sm">
                                ğŸ“ˆ CPI
                            </span>
                            {% elif event.type == 'FOMC' %}
                            <span class="inline-flex items-center px-2 py-1 rounded bg-red-500/20 text-trader-red text-sm">
                                ğŸ¦… FOMC
                            </span>
                            {% elif event.type == 'BOJ' %}
                            <span class="inline-flex items-center px-2 py-1 rounded bg-green-500/20 text-trader-green text-sm">
                                ğŸ¯ æ—¥éŠ€
                            </span>
                            {% endif %}
                        </td>
                        <td class="px-4 py-3 text-gray-400 text-sm">
                            {% if event.type == 'NFP' %}
                            {{ event.month }} åˆ†
                            {% elif event.type == 'CPI' %}
                            {{ event.month }} åˆ†
                            {% elif event.type == 'FOMC' %}
                            {% if event.sep %}SEPãƒ»ãƒ‰ãƒƒãƒˆãƒ—ãƒ­ãƒƒãƒˆ{% else %}å£°æ˜ã®ã¿{% endif %}
                            {% elif event.type == 'BOJ' %}
                            {% if event.outlook %}å±•æœ›ãƒ¬ãƒãƒ¼ãƒˆ{% else %}å£°æ˜ã®ã¿{% endif %}
                            {% endif %}
                        </td>
                        <td class="px-4 py-3">
                            {% if event.type in ['NFP', 'FOMC', 'BOJ'] %}
                            <span class="text-trader-red">â˜…â˜…â˜…</span>
                            {% else %}
                            <span class="text-trader-yellow">â˜…â˜…â˜†</span>
                            {% endif %}
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

    <!-- ã‚¯ã‚¤ãƒƒã‚¯ãƒªãƒ³ã‚¯ -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
        <a href="/nfp" class="bg-trader-card border border-trader-border rounded-lg p-6 hover:border-trader-blue transition-colors">
            <h3 class="text-lg font-bold text-white">ğŸ“Š é›‡ç”¨çµ±è¨ˆ</h3>
            <p class="text-gray-400 text-sm mt-2">äºˆæƒ³ãƒ»çµæœãƒ»FRBç™ºè¨€ã‚’ã¾ã¨ã‚ã¦ç¢ºèª</p>
        </a>
        <a href="/fed-speeches" class="bg-trader-card border border-trader-border rounded-lg p-6 hover:border-trader-blue transition-colors">
            <h3 class="text-lg font-bold text-white">ğŸ¦… FRBç™ºè¨€</h3>
            <p class="text-gray-400 text-sm mt-2">ã‚¿ã‚«æ´¾/ãƒãƒˆæ´¾ã®ç™ºè¨€ã‚’æ™‚ç³»åˆ—ã§</p>
        </a>
        <a href="/trades" class="bg-trader-card border border-trader-border rounded-lg p-6 hover:border-trader-blue transition-colors">
            <h3 class="text-lg font-bold text-white">ğŸ’° ãƒˆãƒ¬ãƒ¼ãƒ‰å±¥æ­´</h3>
            <p class="text-gray-400 text-sm mt-2">5000å††ãƒˆãƒ¬ãƒ¼ãƒ‰ã®åæ”¯ã‚’è¨˜éŒ²</p>
        </a>
    </div>
</div>
{% endblock %}
